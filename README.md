# βοΈ Cloud Bill Bot

AWS EC2 μΈμ¤ν„΄μ¤ μƒνƒλ¥Ό Discord μ±„λ„μ—μ„ μ‹¤μ‹κ°„μΌλ΅ μ΅°νν•  μ μλ” μ¬λμ‹ λ…λ Ήμ–΄ κΈ°λ° ν΄λΌμ°λ“ μ–΄μ‹μ¤ν„΄νΈ λ΄‡μ…λ‹λ‹¤.  
Discord APIμ™€ AWS SDK(Boto3)λ¥Ό ν™μ©ν•μ—¬ κ°„νΈν• μΈν”„λΌ λ¨λ‹ν„°λ§μ„ μλ™ν™”ν•©λ‹λ‹¤.

---

## β¨ μ·¨μ§€

λ¬΄λ£ ν”λμΌλ΅ μ—°μµν•λ μ¤‘ λ’¤λ¦κ² λΉ„μ©μ΄ λ°μƒν• κ²ƒμ„ ν™•μΈν•κ³  λλ¬Όμ„ ν›”μ³¤μµλ‹λ‹¤.  
μ΄λ²μ—λ” μΈμ§€ μ•κΈ° μ„ν•΄, EC2(ν„μ¬κΉμ§€λ” μ΄κ²ƒλ§) λΉ„μ© μ²­κµ¬ μƒνƒλ¥Ό λ””μ¤μ½”λ“μ—μ„ λ°”λ΅ ν™•μΈν•κ³  μ‹¶μ—μµλ‹λ‹¤.  
Slackμ€ λ¬΄κ²κ³ , λΈλΌμ°μ €λ” λ²κ±°λ΅­κ³ , λ””μ¤μ½”λ“κ°€ μ—΄λ ¤ μκΈΈλ λ΄‡μΌλ΅ λ§λ“¤μ—μµλ‹λ‹¤.

---

## π“ κΈ°λ¥ μ†κ° (discord λ…λ Ήμ–΄)

- `/setup` : AWS Access Key, Secret Key, Region μ„ νƒ β†’ μ•μ „ν•κ² μ•”νΈν™”λμ–΄ μ €μ¥
- `/ec2status` : ν„μ¬ μ—°κ²°λ AWS κ³„μ •μ EC2 μΈμ¤ν„΄μ¤ μƒνƒ μ΅°ν

---

## π› οΈ μ‚¬μ© κΈ°μ 

| κµ¬λ¶„         | λ‚΄μ©                      |
|--------------|---------------------------|
| μ–Έμ–΄         | Python 3.11+              |
| Discord API  | `discord.py` (v2.3+)      |
| AWS SDK      | `boto3`                   |
| ν™κ²½ κ΄€λ¦¬    | `python-dotenv`           |
| μ•”νΈν™”       | `cryptography.fernet`     |

---

## β™οΈ μ„¤μΉ λ° μ‹¤ν–‰

### 1. μ €μ¥μ† ν΄λ΅ 

```bash
git clone https://github.com/your-username/cloud-bill-bot.git
cd cloud-bill-bot
```

### 2. κ°€μƒν™κ²½ μƒμ„± λ° ν¨ν‚¤μ§€ μ„¤μΉ

```bash
python -m venv .venv
.venv\Scripts\activate  # macOS/Linux: source .venv/bin/activate

pip install -r requirements.txt
```

### 3. .env νμΌ μƒμ„±

```
DISCORD_TOKEN=your_bot_token_here
```

> β… AWS κ΄€λ ¨ ν‚¤λ” `/setup` λ…λ Ήμ–΄λ¥Ό ν†µν•΄ Discord λ‚΄μ—μ„ μ•μ „ν•κ² μ„¤μ •λ©λ‹λ‹¤.  
> β… `encryption_key.key`λ” μλ™ μƒμ„±λλ©°, ν‚¤ νμΌμ„ μ μ‹¤ν•μ§€ μ•λ„λ΅ κ΄€λ¦¬ν•΄μ£Όμ„Έμ”.

### 4. μ‹¤ν–‰

```bash
python src/bot.py
```

---

## π“‚ ν”„λ΅μ νΈ κµ¬μ΅°

```bash
cloud-bill-bot/
β”β”€β”€ src/
β”‚   β”β”€β”€ bot.py              # λ””μ¤μ½”λ“ λ΄‡ λ©”μΈ μ§„μ…μ 
β”‚   β”β”€β”€ aws_handler.py      # EC2 μƒνƒ μ΅°ν ν•¨μ
β”‚   β”β”€β”€ setup.py            # ν‚¤ μ…λ ¥ λ¨λ‹¬
β”‚   β”β”€β”€ region_view.py      # λ¦¬μ „ μ„ νƒ λ“λ΅­λ‹¤μ΄
β”β”€β”€ utils/
β”‚   β”β”€β”€ crypto.py           # μ•”νΈν™”/λ³µνΈν™” μ ν‹Έλ¦¬ν‹°
β”‚   β””β”€β”€ memory_config.py    # μ„λ²„λ³„ κµ¬μ„± μ €μ¥/μ΅°ν
β”β”€β”€ config/                 # μ„λ²„λ³„ ν‚¤ μ €μ¥ JSON
β”‚   β””β”€β”€ aws_keys_<guild_id>.json
β”β”€β”€ encryption_key.key      # μ•”νΈν™” ν‚¤ (μλ™ μƒμ„±)
β”β”€β”€ .env                    # ν™κ²½ λ³€μ (DISCORD_TOKEN)
β”β”€β”€ .gitignore
β”β”€β”€ README.md
β””β”€β”€ requirements.txt
```

---

## π“ μ‚¬μ© νλ¦„

1. λ΄‡ μ‹¤ν–‰ ν›„, `/setup` λ…λ Ήμ–΄ μ‹¤ν–‰
2. λ¨λ‹¬ μ°½μ—μ„ AWS ν‚¤λ¥Ό μ•μ „ν•κ² μ…λ ¥
3. λ“λ΅­λ‹¤μ΄μ—μ„ λ¦¬μ „ μ„ νƒ
4. `/ec2status`λ΅ ν„μ¬ EC2 μΈμ¤ν„΄μ¤ μƒνƒ ν™•μΈ!

---

## π§ ν–¥ν›„ ν™•μ¥ κ³„ν

- [ ] /ec2start, /ec2stop λ…λ Ήμ–΄ μ¶”κ°€
- [ ] IAM Role κΈ°λ° μΈμ¦ μ „ν™
- [ ] CloudWatch μ•λ¦Ό μ—°λ™
- [ ] Slack / Email λ“± μ™Έλ¶€ μ±„λ„ μ•λ¦Ό μ—°λ™
- [ ] EC2 μ™Έ S3, RDS, Billing λ“± μμ› κ°μ‹ ν™•μ¥

---

## β οΈ μ£Όμμ‚¬ν•­

- `.env`, `encryption_key.key`, `config/` λ‚΄ JSON νμΌμ€ Gitμ— μ»¤λ°‹ν•μ§€ λ§μ„Έμ”
- λ΄‡μ€ Discord μ„λ²„λ³„λ΅ EC2 μ •λ³΄λ¥Ό λ¶„λ¦¬ν•μ—¬ κ΄€λ¦¬ν•©λ‹λ‹¤
